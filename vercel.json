# vercel.json
{
  "version": 2,
  "builds": [
    {
      "use": "@vercel/static-build",
      "config": {
        "maxLambdaSize": "10mb"
      },
      "env": {
        "RUBY_VERSION": "3.0.0" // Tentukan versi Ruby yang sesuai
      },
      "build": {
        "env": {
          "CI": "true",
          "BUNDLE_SILENCE_ROOT_WARNING": "1",
          "BUNDLE_APP_CONFIG": ".bundle",
          "BUNDLE_PATH": "vendor/bundle"
        },
        "scripts": {
          "preinstall": "curl -sSL https://rvm.io/mpapis.asc | gpg --import - && curl -sSL https://get.rvm.io | bash -s stable",
          "install": "source $HOME/.rvm/scripts/rvm && rvm install $RUBY_VERSION && rvm use $RUBY_VERSION --default",
          "build": "bundle install && bundle exec jekyll build"
        }
      }
    }
  ]
}
